{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/deploy-gatsby-site-to-github/","result":{"data":{"site":{"siteMetadata":{"title":"Ganesh Sundaram"}},"markdownRemark":{"id":"7329d35f-c07f-5206-8b07-de26cadfcc3e","excerpt":"What is GatsbyJS?ü§î GatsbyJS is a static site generator based on ReactJS which helps developer build fast blazing websites. Gatsby is great for building static‚Ä¶","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a1e92b387ea4364b86bba0afe6a33ca3/10bbb/gatsbyjs-github.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB6VmlRKP/xAAXEAEBAQEAAAAAAAAAAAAAAAADAQIg/9oACAEBAAEFAk2kVruc/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAABBQEAAAAAAAAAAAAAAAABAAISIFEx/9oACAEBAAY/AgBxNhuV/8QAGRABAQADAQAAAAAAAAAAAAAAAREAIFFh/9oACAEBAAE/IRTPHcFoFhta/wD/2gAMAwEAAgADAAAAEHMP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QWf/EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxBRyf/EAB0QAQABAwUAAAAAAAAAAAAAAAERACAxIUFRYbH/2gAIAQEAAT8QUmaEjXt6VPlEyZ43IOW3/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/a1e92b387ea4364b86bba0afe6a33ca3/507e6/gatsbyjs-github.webp 200w,\n/static/a1e92b387ea4364b86bba0afe6a33ca3/28a80/gatsbyjs-github.webp 400w,\n/static/a1e92b387ea4364b86bba0afe6a33ca3/10636/gatsbyjs-github.webp 500w\"\n          sizes=\"(max-width: 500px) 100vw, 500px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/a1e92b387ea4364b86bba0afe6a33ca3/37402/gatsbyjs-github.jpg 200w,\n/static/a1e92b387ea4364b86bba0afe6a33ca3/4cda9/gatsbyjs-github.jpg 400w,\n/static/a1e92b387ea4364b86bba0afe6a33ca3/10bbb/gatsbyjs-github.jpg 500w\"\n          sizes=\"(max-width: 500px) 100vw, 500px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/a1e92b387ea4364b86bba0afe6a33ca3/10bbb/gatsbyjs-github.jpg\"\n          alt=\"Chrome Devtools\"\n          title=\"Chrome Devtools\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<br/>\n<h4>What is GatsbyJS?ü§î</h4>\n<p>GatsbyJS is a static site generator based on ReactJS which helps developer build fast blazing websites.</p>\n<p>Gatsby is great for building static public facing websites because it provides features like SEO, Image lazy-loading, prefetching resources, etc as part of its ecosystem.</p>\n<p>Since build generated by Gatsby is just html, css, javascript, images, etc you can host with any provider.</p>\n<br/>\n<p><strong>Today we will learn how to host Gatsby build using Github.üë®üèª‚Äçüíª</strong></p>\n<br/>\n<hr/>\n<br/>\n<h4>Github-Actions</h4>\n<p>Github-Actions is used to automate our workflows using bunch of jobs.</p>\n<p>We will use <a href=\"https://github.com/marketplace/actions/gatsby-publish\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gatsby-gh-pages-action</a> by <a href=\"https://github.com/enriikke\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">enriikke</a> to automate deployment.</p>\n<br/>\n<h4>How it works?</h4>\n<p>After pushing source code to github, this action will run build command and push your build to a branch(master or gh-pages) which you have selected as deploy-branch for hosting.</p>\n<br/>\n<h4>For username.github.io</h4>\n<p>Checkout to a branch other than master e.g. dev. This branch will contain your source code. Next time when you will push this branch action will be triggered. Specify the branch name in yml file.</p>\n<br/>\n<p>Create <code class=\"language-text\">main.yml</code> at root of your project in path <code class=\"language-text\">/.github/workflows</code> and paste this action.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Publish\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> dev\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> enriikke/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v2.1.1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ganesh <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">deploy-branch</span><span class=\"token punctuation\">:</span> master</code></pre></div>\n<br/>\n<h4>For username.github.io/sub-domain</h4>\n<br/>\n<p>Specify the sub-domain name in <code class=\"language-text\">gatsby-config.js</code> for path prefixing.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pathPrefix<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/sub-domain</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>Set gh-pages to deploy-branch and ‚Äîprefix-paths to gatsby-args.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Publish\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> dev\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> enriikke/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">deploy-branch</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n          <span class=\"token key atrule\">gatsby-args</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>prefix<span class=\"token punctuation\">-</span>paths</code></pre></div>\n<br/>\n<p>You can create <code class=\"language-text\">secrets</code> in repository settings and get secret value from application setting by generating token with repo scope.</p>\n<br/>\n<h4>Demo</h4>\n<br/>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; \" > <iframe src=\"https://www.youtube.com/embed/JIMord7-G10\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>\n<br/>\n<hr/>\n<br/>\n<p>You are amazing! ‚ú®</p>","frontmatter":{"title":"#2","subtitle":"Deploy Gatsby site to Github using actions","date":"May 31, 2020","description":"A simple guide to host your Gatsby site in Github using Github-actions"}}},"pageContext":{"slug":"/blog/deploy-gatsby-site-to-github/","previous":null,"next":{"fields":{"slug":"/blog/cool-devtool-features/"},"frontmatter":{"title":"#1","subtitle":"Cool Chrome Devtool Features"}}}},"staticQueryHashes":["2340969130","3635378054"]}